const require_src = require('./src-Cu-anpoR.cjs');
require('./types-CBTc19th.cjs');

//#region src/nuxt.ts
function nuxt_default(options = {}, nuxt) {
	const nuxtApp = this?.nuxt || nuxt;
	if (nuxtApp?._version?.startsWith("3.") || nuxtApp?._version?.startsWith("4.")) {
		options.compiler = "vue3";
		nuxtApp.options.typescript ||= {};
		nuxtApp.options.typescript.tsConfig ||= {};
		nuxtApp.options.typescript.tsConfig.compilerOptions ||= {};
		nuxtApp.options.typescript.tsConfig.compilerOptions.types ||= [];
		nuxtApp.options.typescript.tsConfig.compilerOptions.types.push("unplugin-icons/types/vue");
	}
	nuxtApp.hook("webpack:config", (configs) => {
		configs.forEach((config) => {
			config.plugins = config.plugins || [];
			config.plugins.unshift(require_src.src_default.webpack(options));
		});
	});
	nuxtApp.hook("vite:extend", async (vite) => {
		vite.config.plugins = vite.config.plugins || [];
		vite.config.plugins.push(require_src.src_default.vite(options));
	});
}

//#endregion
module.exports = nuxt_default;